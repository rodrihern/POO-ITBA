@startuml


class Board {
    -Piece[][] board, prev
    -Piece whiteKing, blackKing
    +String toString()
    +void makeMove(Move newMove)
    +void undo()
    -boolean isValid(Move move)
    -canMakeMove(Piece piece, Square to)
    -isPathClear(Square from, Square to)
    -isUnderAttack(Piece piece)
    -Piece[][] getBoardCopy()
}

class Piece {
    -PieceType type
    -Color color
    -Square sq
    +Piece(PieceType type, Color color, Square sq)
    +PieceType getType()
    +Color getColor()
    +Square getSquare()
    +boolean equals(Object o)
    +String toString()
    +Direction canMoveTo(Square dest)
    +void moveTo(Square dest)
}

class Move {
    -Piece piece
    -Square dest
    +Move(String move, Color color)
    +Move(Piece piece, Square dest)
    +Piece getPiece()
    +Square getFrom()
    +Square getTo()
}

class Square {
    -int row
    -int col
    +Square(int row, int col)
    +Square(String sq)
    +int getRow()
    +int getCol()
}

enum Color {
    +BLACK
    +WHITE
}

enum Direction {
    +UP, DOWN, LEFT, RIGHT, UPRIGHT, UPLEFT,
    DOWNRIGHT, DOWNLEFT
    +int rowInc()
    +int colInc()
}

enum PieceType {
    +KING, QUEEN, ROOK, BISHOP, KNIGHT, PAWN
    +String toString()
    +canMove(Square from, Square to)
}

Board *- Move
Move *- Square
Move *-- Piece
Board *- Piece
Piece *- Square
Piece *-- PieceType
Piece *-- Direction
Color -* Piece

@enduml